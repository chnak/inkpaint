{"version":3,"sources":["../../src/text/TextStyle.js"],"names":["defaultStyle","align","breakWords","dropShadow","dropShadowAlpha","dropShadowAngle","Math","PI","dropShadowBlur","dropShadowColor","dropShadowDistance","fill","fillGradientType","TEXT_GRADIENT","LINEAR_VERTICAL","fillGradientStops","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","letterSpacing","lineHeight","lineJoin","miterLimit","padding","stroke","strokeThickness","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","leading","genericFontFamilies","TextStyle","constructor","style","styleID","reset","deepCopyProperties","clone","clonedProperties","_align","_breakWords","_dropShadow","_dropShadowAlpha","_dropShadowAngle","_dropShadowBlur","_dropShadowColor","outputColor","getColor","_dropShadowDistance","_fill","_fillGradientType","_fillGradientStops","areArraysEqual","_fontFamily","_fontSize","_fontStyle","_fontVariant","_fontWeight","_letterSpacing","_lineHeight","_leading","_lineJoin","_miterLimit","_padding","_stroke","_strokeThickness","_textBaseline","_trim","_whiteSpace","_wordWrap","_wordWrapWidth","toFontString","fontSizeString","fontFamilies","Array","isArray","split","i","length","test","indexOf","join","getSingleColor","color","replace","array1","array2","target","source","propertyObj","prop","slice"],"mappings":"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","sourcesContent":["import { TEXT_GRADIENT } from \"../const\";\nimport { hex2string } from \"../utils\";\n\nconst defaultStyle = {\n  align: \"left\",\n  breakWords: false,\n  dropShadow: false,\n  dropShadowAlpha: 1,\n  dropShadowAngle: Math.PI / 6,\n  dropShadowBlur: 0,\n  dropShadowColor: \"black\",\n  dropShadowDistance: 5,\n  fill: \"black\",\n  fillGradientType: TEXT_GRADIENT.LINEAR_VERTICAL,\n  fillGradientStops: [],\n  fontFamily: [\"Helvetica\", \"Arial\", \"sans-serif\"], //\n  fontSize: 26,\n  fontStyle: \"normal\",\n  fontVariant: \"normal\",\n  fontWeight: \"normal\",\n  letterSpacing: 0,\n  lineHeight: 0,\n  lineJoin: \"miter\",\n  miterLimit: 10,\n  padding: 0,\n  stroke: \"black\",\n  strokeThickness: 0,\n  textBaseline: \"alphabetic\",\n  trim: false,\n  whiteSpace: \"pre\",\n  wordWrap: false,\n  wordWrapWidth: 100,\n  leading: 0\n};\n\nconst genericFontFamilies = [\n  \"serif\",\n  \"sans-serif\",\n  \"monospace\",\n  \"cursive\",\n  \"fantasy\",\n  \"system-ui\"\n];\n\nexport default class TextStyle {\n  constructor(style) {\n    this.styleID = 0;\n    this.reset();\n    deepCopyProperties(this, style, style);\n  }\n\n  clone() {\n    const clonedProperties = {};\n    deepCopyProperties(clonedProperties, this, defaultStyle);\n    return new TextStyle(clonedProperties);\n  }\n\n  reset() {\n    deepCopyProperties(this, defaultStyle, defaultStyle);\n  }\n\n  get align() {\n    return this._align;\n  }\n\n  set align(align) {\n    if (this._align !== align) {\n      this._align = align;\n      this.styleID++;\n    }\n  }\n\n  get breakWords() {\n    return this._breakWords;\n  }\n\n  set breakWords(breakWords) {\n    if (this._breakWords !== breakWords) {\n      this._breakWords = breakWords;\n      this.styleID++;\n    }\n  }\n\n  get dropShadow() {\n    return this._dropShadow;\n  }\n  set dropShadow(dropShadow) {\n    if (this._dropShadow !== dropShadow) {\n      this._dropShadow = dropShadow;\n      this.styleID++;\n    }\n  }\n\n  get dropShadowAlpha() {\n    return this._dropShadowAlpha;\n  }\n\n  set dropShadowAlpha(dropShadowAlpha) {\n    if (this._dropShadowAlpha !== dropShadowAlpha) {\n      this._dropShadowAlpha = dropShadowAlpha;\n      this.styleID++;\n    }\n  }\n\n  get dropShadowAngle() {\n    return this._dropShadowAngle;\n  }\n  set dropShadowAngle(dropShadowAngle) {\n    if (this._dropShadowAngle !== dropShadowAngle) {\n      this._dropShadowAngle = dropShadowAngle;\n      this.styleID++;\n    }\n  }\n\n  get dropShadowBlur() {\n    return this._dropShadowBlur;\n  }\n  set dropShadowBlur(dropShadowBlur) {\n    if (this._dropShadowBlur !== dropShadowBlur) {\n      this._dropShadowBlur = dropShadowBlur;\n      this.styleID++;\n    }\n  }\n\n  get dropShadowColor() {\n    return this._dropShadowColor;\n  }\n  set dropShadowColor(dropShadowColor) {\n    const outputColor = getColor(dropShadowColor);\n    if (this._dropShadowColor !== outputColor) {\n      this._dropShadowColor = outputColor;\n      this.styleID++;\n    }\n  }\n\n  get dropShadowDistance() {\n    return this._dropShadowDistance;\n  }\n  set dropShadowDistance(dropShadowDistance) {\n    if (this._dropShadowDistance !== dropShadowDistance) {\n      this._dropShadowDistance = dropShadowDistance;\n      this.styleID++;\n    }\n  }\n\n  get fill() {\n    return this._fill;\n  }\n  set fill(fill) {\n    const outputColor = getColor(fill);\n    if (this._fill !== outputColor) {\n      this._fill = outputColor;\n      this.styleID++;\n    }\n  }\n\n  get fillGradientType() {\n    return this._fillGradientType;\n  }\n  set fillGradientType(fillGradientType) {\n    if (this._fillGradientType !== fillGradientType) {\n      this._fillGradientType = fillGradientType;\n      this.styleID++;\n    }\n  }\n\n  get fillGradientStops() {\n    return this._fillGradientStops;\n  }\n  set fillGradientStops(fillGradientStops) {\n    if (!areArraysEqual(this._fillGradientStops, fillGradientStops)) {\n      this._fillGradientStops = fillGradientStops;\n      this.styleID++;\n    }\n  }\n\n  get fontFamily() {\n    return this._fontFamily;\n  }\n  set fontFamily(fontFamily) {\n    if (this.fontFamily !== fontFamily) {\n      this._fontFamily = fontFamily;\n      this.styleID++;\n    }\n  }\n\n  get fontSize() {\n    return this._fontSize;\n  }\n  set fontSize(fontSize) {\n    if (this._fontSize !== fontSize) {\n      this._fontSize = fontSize;\n      this.styleID++;\n    }\n  }\n\n  get fontStyle() {\n    return this._fontStyle;\n  }\n  set fontStyle(fontStyle) {\n    if (this._fontStyle !== fontStyle) {\n      this._fontStyle = fontStyle;\n      this.styleID++;\n    }\n  }\n\n  get fontVariant() {\n    return this._fontVariant;\n  }\n  set fontVariant(fontVariant) {\n    if (this._fontVariant !== fontVariant) {\n      this._fontVariant = fontVariant;\n      this.styleID++;\n    }\n  }\n\n  get fontWeight() {\n    return this._fontWeight;\n  }\n  set fontWeight(fontWeight) {\n    if (this._fontWeight !== fontWeight) {\n      this._fontWeight = fontWeight;\n      this.styleID++;\n    }\n  }\n\n  get letterSpacing() {\n    return this._letterSpacing;\n  }\n  set letterSpacing(letterSpacing) {\n    if (this._letterSpacing !== letterSpacing) {\n      this._letterSpacing = letterSpacing;\n      this.styleID++;\n    }\n  }\n\n  get lineHeight() {\n    return this._lineHeight;\n  }\n  set lineHeight(lineHeight) {\n    if (this._lineHeight !== lineHeight) {\n      this._lineHeight = lineHeight;\n      this.styleID++;\n    }\n  }\n\n  get leading() {\n    return this._leading;\n  }\n  set leading(leading) {\n    if (this._leading !== leading) {\n      this._leading = leading;\n      this.styleID++;\n    }\n  }\n\n  get lineJoin() {\n    return this._lineJoin;\n  }\n  set lineJoin(lineJoin) {\n    if (this._lineJoin !== lineJoin) {\n      this._lineJoin = lineJoin;\n      this.styleID++;\n    }\n  }\n\n  get miterLimit() {\n    return this._miterLimit;\n  }\n  set miterLimit(miterLimit) {\n    if (this._miterLimit !== miterLimit) {\n      this._miterLimit = miterLimit;\n      this.styleID++;\n    }\n  }\n\n  get padding() {\n    return this._padding;\n  }\n  set padding(padding) {\n    if (this._padding !== padding) {\n      this._padding = padding;\n      this.styleID++;\n    }\n  }\n\n  get stroke() {\n    return this._stroke;\n  }\n  set stroke(stroke) {\n    const outputColor = getColor(stroke);\n    if (this._stroke !== outputColor) {\n      this._stroke = outputColor;\n      this.styleID++;\n    }\n  }\n\n  get strokeThickness() {\n    return this._strokeThickness;\n  }\n  set strokeThickness(strokeThickness) {\n    if (this._strokeThickness !== strokeThickness) {\n      this._strokeThickness = strokeThickness;\n      this.styleID++;\n    }\n  }\n\n  get textBaseline() {\n    return this._textBaseline;\n  }\n  set textBaseline(textBaseline) {\n    if (this._textBaseline !== textBaseline) {\n      this._textBaseline = textBaseline;\n      this.styleID++;\n    }\n  }\n\n  get trim() {\n    return this._trim;\n  }\n  set trim(trim) {\n    if (this._trim !== trim) {\n      this._trim = trim;\n      this.styleID++;\n    }\n  }\n\n  get whiteSpace() {\n    return this._whiteSpace;\n  }\n  set whiteSpace(whiteSpace) {\n    if (this._whiteSpace !== whiteSpace) {\n      this._whiteSpace = whiteSpace;\n      this.styleID++;\n    }\n  }\n\n  get wordWrap() {\n    return this._wordWrap;\n  }\n  set wordWrap(wordWrap) {\n    if (this._wordWrap !== wordWrap) {\n      this._wordWrap = wordWrap;\n      this.styleID++;\n    }\n  }\n\n  get wordWrapWidth() {\n    return this._wordWrapWidth;\n  }\n  set wordWrapWidth(wordWrapWidth) {\n    if (this._wordWrapWidth !== wordWrapWidth) {\n      this._wordWrapWidth = wordWrapWidth;\n      this.styleID++;\n    }\n  }\n\n  toFontString() {\n    // build canvas api font setting from individual components. Convert a numeric this.fontSize to px\n    const fontSizeString =\n      typeof this.fontSize === \"number\" ? `${this.fontSize}px` : this.fontSize;\n\n    let fontFamilies = this.fontFamily;\n    if (!Array.isArray(this.fontFamily)) {\n      fontFamilies = this.fontFamily.split(\",\");\n    }\n\n    for (let i = fontFamilies.length - 1; i >= 0; i--) {\n      let fontFamily = fontFamilies[i].trim();\n\n      if (\n        !/([\\\"\\'])[^\\'\\\"]+\\1/.test(fontFamily) &&\n        genericFontFamilies.indexOf(fontFamily) < 0\n      ) {\n        fontFamily = `\"${fontFamily}\"`;\n      }\n\n      fontFamilies[i] = fontFamily;\n    }\n\n    return `${this.fontStyle} ${this.fontVariant} ${\n      this.fontWeight\n    } ${fontSizeString} ${fontFamilies.join(\",\")}`;\n  }\n}\n\nfunction getSingleColor(color) {\n  if (typeof color === \"number\") {\n    return hex2string(color);\n  } else if (typeof color === \"string\") {\n    if (color.indexOf(\"0x\") === 0) {\n      color = color.replace(\"0x\", \"#\");\n    }\n  }\n\n  return color;\n}\n\nfunction getColor(color) {\n  if (!Array.isArray(color)) return getSingleColor(color);\n\n  for (let i = 0; i < color.length; ++i) {\n    color[i] = getSingleColor(color[i]);\n  }\n  return color;\n}\n\nfunction areArraysEqual(array1, array2) {\n  if (!Array.isArray(array1) || !Array.isArray(array2)) {\n    return false;\n  }\n\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  for (let i = 0; i < array1.length; ++i) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction deepCopyProperties(target, source, propertyObj) {\n  for (const prop in propertyObj) {\n    if (Array.isArray(source[prop])) {\n      target[prop] = source[prop].slice();\n    } else {\n      target[prop] = source[prop];\n    }\n  }\n}\n"],"file":"TextStyle.js"}