{"version":3,"sources":["../../src/math/ObservablePoint.js"],"names":["ObservablePoint","constructor","cb","scope","x","y","_x","_y","clone","_cb","_scope","set","call","copy","point","equals","p","value","dot"],"mappings":";;;;;;;AAAe,MAAMA,eAAN,CAAsB;AACnCC,EAAAA,WAAW,CAACC,EAAD,EAAKC,KAAL,EAAYC,CAAZ,EAAmBC,CAAnB,EAA0B;AAAA,QAAdD,CAAc;AAAdA,MAAAA,CAAc,GAAV,CAAU;AAAA;;AAAA,QAAPC,CAAO;AAAPA,MAAAA,CAAO,GAAH,CAAG;AAAA;;AACnC,SAAKC,EAAL,GAAUF,CAAV;AACA,SAAKG,EAAL,GAAUF,CAAV;AAEA,SAAKH,EAAL,GAAUA,EAAV;AACA,SAAKC,KAAL,GAAaA,KAAb;AACD;;AAEDK,EAAAA,KAAK,CAACN,EAAD,EAAYC,KAAZ,EAA0B;AAAA,QAAzBD,EAAyB;AAAzBA,MAAAA,EAAyB,GAApB,IAAoB;AAAA;;AAAA,QAAdC,KAAc;AAAdA,MAAAA,KAAc,GAAN,IAAM;AAAA;;AAC7B,QAAMM,GAAG,GAAGP,EAAE,IAAI,KAAKA,EAAvB;;AACA,QAAMQ,MAAM,GAAGP,KAAK,IAAI,KAAKA,KAA7B;;AACA,WAAO,IAAIH,eAAJ,CAAoBS,GAApB,EAAyBC,MAAzB,EAAiC,KAAKJ,EAAtC,EAA0C,KAAKC,EAA/C,CAAP;AACD;;AAEDI,EAAAA,GAAG,CAACP,CAAD,EAAIC,CAAJ,EAAO;AACR,QAAMC,EAAE,GAAGF,CAAC,IAAI,CAAhB;;AACA,QAAMG,EAAE,GAAGF,CAAC,KAAKA,CAAC,KAAK,CAAN,GAAUC,EAAV,GAAe,CAApB,CAAZ;;AAEA,QAAI,KAAKA,EAAL,KAAYA,EAAZ,IAAkB,KAAKC,EAAL,KAAYA,EAAlC,EAAsC;AACpC,WAAKD,EAAL,GAAUA,EAAV;AACA,WAAKC,EAAL,GAAUA,EAAV;AACA,WAAKL,EAAL,CAAQU,IAAR,CAAa,KAAKT,KAAlB;AACD;AACF;;AAEDU,EAAAA,IAAI,CAACC,KAAD,EAAQ;AACV,QAAI,KAAKR,EAAL,KAAYQ,KAAK,CAACV,CAAlB,IAAuB,KAAKG,EAAL,KAAYO,KAAK,CAACT,CAA7C,EAAgD;AAC9C,WAAKC,EAAL,GAAUQ,KAAK,CAACV,CAAhB;AACA,WAAKG,EAAL,GAAUO,KAAK,CAACT,CAAhB;AACA,WAAKH,EAAL,CAAQU,IAAR,CAAa,KAAKT,KAAlB;AACD;AACF;;AAEDY,EAAAA,MAAM,CAACC,CAAD,EAAI;AACR,WAAOA,CAAC,CAACZ,CAAF,KAAQ,KAAKE,EAAb,IAAmBU,CAAC,CAACX,CAAF,KAAQ,KAAKE,EAAvC;AACD;;AAEI,MAADH,CAAC,GAAG;AACN,WAAO,KAAKE,EAAZ;AACD;;AAEI,MAADF,CAAC,CAACa,KAAD,EAAQ;AACX,QAAI,KAAKX,EAAL,KAAYW,KAAhB,EAAuB;AACrB,WAAKX,EAAL,GAAUW,KAAV;AACA,WAAKf,EAAL,CAAQU,IAAR,CAAa,KAAKT,KAAlB;AACD;AACF;;AAEI,MAADE,CAAC,GAAG;AACN,WAAO,KAAKE,EAAZ;AACD;;AAEI,MAADF,CAAC,CAACY,KAAD,EAAQ;AACX,QAAI,KAAKV,EAAL,KAAYU,KAAhB,EAAuB;AACrB,WAAKV,EAAL,GAAUU,KAAV;AACA,WAAKf,EAAL,CAAQU,IAAR,CAAa,KAAKT,KAAlB;AACD;AACF;;AAEDe,EAAAA,GAAG,CAACF,CAAD,EAAI;AACL,SAAKZ,CAAL,GAAS,KAAKA,CAAL,GAASY,CAAC,CAACZ,CAApB;AACA,SAAKA,CAAL,GAAS,KAAKC,CAAL,GAASW,CAAC,CAACX,CAApB;AACD;;AA/DkC","sourcesContent":["export default class ObservablePoint {\n  constructor(cb, scope, x = 0, y = 0) {\n    this._x = x;\n    this._y = y;\n\n    this.cb = cb;\n    this.scope = scope;\n  }\n\n  clone(cb = null, scope = null) {\n    const _cb = cb || this.cb;\n    const _scope = scope || this.scope;\n    return new ObservablePoint(_cb, _scope, this._x, this._y);\n  }\n\n  set(x, y) {\n    const _x = x || 0;\n    const _y = y || (y !== 0 ? _x : 0);\n\n    if (this._x !== _x || this._y !== _y) {\n      this._x = _x;\n      this._y = _y;\n      this.cb.call(this.scope);\n    }\n  }\n\n  copy(point) {\n    if (this._x !== point.x || this._y !== point.y) {\n      this._x = point.x;\n      this._y = point.y;\n      this.cb.call(this.scope);\n    }\n  }\n\n  equals(p) {\n    return p.x === this._x && p.y === this._y;\n  }\n\n  get x() {\n    return this._x;\n  }\n\n  set x(value) {\n    if (this._x !== value) {\n      this._x = value;\n      this.cb.call(this.scope);\n    }\n  }\n\n  get y() {\n    return this._y;\n  }\n\n  set y(value) {\n    if (this._y !== value) {\n      this._y = value;\n      this.cb.call(this.scope);\n    }\n  }\n\n  dot(p) {\n    this.x = this.x * p.x;\n    this.x = this.y * p.y;\n  }\n}\n"],"file":"ObservablePoint.js"}