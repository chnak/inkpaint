{"version":3,"sources":["../../src/display/ProxyObj.js"],"names":["ProxyObj","EventEmitter","constructor","width","height","alpha","worldAlpha","rotation","x","y","scale","Point","anchor","transform","blendMode","text","style","parent","isProxy","attr","attrs","replaceFromParent","display","index","getChildIndex","removeChild","addChildAt","updateStyle","key","newKey","camelCase","name","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","replace","_","separator","letter","offset","toUpperCase","destroy","pivot","removeAllListeners"],"mappings":";;;;;;;AAAA;;AACA;;;;AACe,MAAMA,QAAN,SAAuBC,qBAAvB,CAAoC;AACjDC,EAAAA,WAAW,GAAG;AACZ;AAEA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,MAAL,GAAc,IAAd;AACA,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,CAAL,GAAS,CAAT;AACA,SAAKC,CAAL,GAAS,CAAT;AACA,SAAKC,KAAL,GAAa,IAAIC,WAAJ,CAAU,CAAV,EAAa,CAAb,CAAb;AACA,SAAKC,MAAL,GAAc,IAAID,WAAJ,EAAd;AACA,SAAKE,SAAL,GAAiB,EAAjB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,MAAL,GAAc,IAAd;AAEA,SAAKC,OAAL,GAAe,IAAf;AACD;;AAEDC,EAAAA,IAAI,CAACC,KAAD,EAAQ,CAAE;;AAEdC,EAAAA,iBAAiB,CAACC,OAAD,EAAU;AACzB,QAAM;AAAEL,MAAAA;AAAF,QAAa,IAAnB;AACA,QAAI,CAACA,MAAL,EAAa;AAEb,QAAMM,KAAK,GAAGN,MAAM,CAACO,aAAP,CAAqB,IAArB,CAAd;AACAP,IAAAA,MAAM,CAACQ,WAAP,CAAmB,IAAnB;AACAR,IAAAA,MAAM,CAACS,UAAP,CAAkBJ,OAAlB,EAA2BC,KAA3B;AACD;;AAEDI,EAAAA,WAAW,CAACX,KAAD,EAAQ;AACjB,QAAI,CAAC,KAAKA,KAAV,EAAiB,KAAKA,KAAL,GAAa,EAAb;;AAEjB,SAAK,IAAIY,GAAT,IAAgBZ,KAAhB,EAAuB;AACrB,UAAIa,MAAM,GAAG,KAAKC,SAAL,CAAeF,GAAf,CAAb;AACA,UAAIC,MAAM,KAAK,OAAf,EAAwBA,MAAM,GAAG,MAAT;AACxB,WAAKb,KAAL,CAAWa,MAAX,IAAqBb,KAAK,CAACY,GAAD,CAA1B;AACD;AACF;;AAEDE,EAAAA,SAAS,CAACC,IAAD,EAAO;AACd,QAAMC,oBAAoB,GAAG,iBAA7B;AACA,QAAMC,eAAe,GAAG,aAAxB;AAEA,WAAOF,IAAI,CACRG,OADI,CACIF,oBADJ,EAC0B,UAASG,CAAT,EAAYC,SAAZ,EAAuBC,MAAvB,EAA+BC,MAA/B,EAAuC;AACpE,aAAOA,MAAM,GAAGD,MAAM,CAACE,WAAP,EAAH,GAA0BF,MAAvC;AACD,KAHI,EAIJH,OAJI,CAIID,eAJJ,EAIqB,OAJrB,CAAP;AAKD;;AAEDO,EAAAA,OAAO,GAAG;AACR,SAAKrC,KAAL,GAAa,IAAb;AACA,SAAKC,MAAL,GAAc,IAAd;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKG,CAAL,GAAS,IAAT;AACA,SAAKC,CAAL,GAAS,IAAT;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAK+B,KAAL,GAAa,IAAb;AACA,SAAK7B,MAAL,GAAc,IAAd;AACA,SAAKG,IAAL,GAAY,IAAZ;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKH,SAAL,GAAiB,IAAjB;AACA,SAAKI,MAAL,GAAc,IAAd;AACA,SAAKyB,kBAAL;AACD;;AApEgD","sourcesContent":["import { Point } from \"../math\";\nimport EventEmitter from \"eventemitter3\";\nexport default class ProxyObj extends EventEmitter {\n  constructor() {\n    super();\n\n    this.width = null;\n    this.height = null;\n    this.alpha = 1;\n    this.worldAlpha = 1;\n    this.rotation = 0;\n    this.x = 0;\n    this.y = 0;\n    this.scale = new Point(1, 1);\n    this.anchor = new Point();\n    this.transform = {};\n    this.blendMode = null;\n    this.text = null;\n    this.style = null;\n    this.parent = null;\n\n    this.isProxy = true;\n  }\n\n  attr(attrs) {}\n\n  replaceFromParent(display) {\n    const { parent } = this;\n    if (!parent) return;\n\n    const index = parent.getChildIndex(this);\n    parent.removeChild(this);\n    parent.addChildAt(display, index);\n  }\n\n  updateStyle(style) {\n    if (!this.style) this.style = {};\n\n    for (let key in style) {\n      let newKey = this.camelCase(key);\n      if (newKey === \"color\") newKey = \"fill\";\n      this.style[newKey] = style[key];\n    }\n  }\n\n  camelCase(name) {\n    const SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\n    const MOZ_HACK_REGEXP = /^moz([A-Z])/;\n\n    return name\n      .replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\n        return offset ? letter.toUpperCase() : letter;\n      })\n      .replace(MOZ_HACK_REGEXP, \"Moz$1\");\n  }\n\n  destroy() {\n    this.width = null;\n    this.height = null;\n    this.alpha = null;\n    this.x = null;\n    this.y = null;\n    this.scale = null;\n    this.pivot = null;\n    this.anchor = null;\n    this.text = null;\n    this.style = null;\n    this.transform = null;\n    this.parent = null;\n    this.removeAllListeners();\n  }\n}\n"],"file":"ProxyObj.js"}