{"version":3,"sources":["../src/Shader.js"],"names":["checkPrecision","src","def","Array","substring","copy","slice","unshift","trim","Shader","GLShader","constructor","gl","vertexSrc","fragmentSrc","attributeLocations","precision","settings","PRECISION_VERTEX","PRECISION_FRAGMENT","undefined"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,SAASA,cAAT,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;AAChC,MAAID,GAAG,YAAYE,KAAnB,EAA0B;AACxB,QAAIF,GAAG,CAAC,CAAD,CAAH,CAAOG,SAAP,CAAiB,CAAjB,EAAoB,CAApB,MAA2B,WAA/B,EAA4C;AAC1C,UAAMC,IAAI,GAAGJ,GAAG,CAACK,KAAJ,CAAU,CAAV,CAAb;AACAD,MAAAA,IAAI,CAACE,OAAL,gBAA0BL,GAA1B;AACA,aAAOG,IAAP;AACD;AACF,GAND,MAMO,IAAIJ,GAAG,CAACO,IAAJ,GAAWJ,SAAX,CAAqB,CAArB,EAAwB,CAAxB,MAA+B,WAAnC,EAAgD;AACrD,0BAAoBF,GAApB,iBAAmCD,GAAnC;AACD;;AAED,SAAOA,GAAP;AACD;;AAEc,MAAMQ,MAAN,SAAqBC,oBAArB,CAA8B;AAC3CC,EAAAA,WAAW,CAACC,EAAD,EAAKC,SAAL,EAAgBC,WAAhB,EAA6BC,kBAA7B,EAAiDC,SAAjD,EAA4D;AACrE,UACEJ,EADF,EAEEZ,cAAc,CAACa,SAAD,EAAYG,SAAS,IAAIC,kBAASC,gBAAlC,CAFhB,EAGElB,cAAc,CAACc,WAAD,EAAcE,SAAS,IAAIC,kBAASE,kBAApC,CAHhB,EAIEC,SAJF,EAKEL,kBALF;AAOD;;AAT0C","sourcesContent":["import { GLShader } from \"pixi-gl-core\";\nimport settings from \"./settings\";\n\nfunction checkPrecision(src, def) {\n  if (src instanceof Array) {\n    if (src[0].substring(0, 9) !== \"precision\") {\n      const copy = src.slice(0);\n      copy.unshift(`precision ${def} float;`);\n      return copy;\n    }\n  } else if (src.trim().substring(0, 9) !== \"precision\") {\n    return `precision ${def} float;\\n${src}`;\n  }\n\n  return src;\n}\n\nexport default class Shader extends GLShader {\n  constructor(gl, vertexSrc, fragmentSrc, attributeLocations, precision) {\n    super(\n      gl,\n      checkPrecision(vertexSrc, precision || settings.PRECISION_VERTEX),\n      checkPrecision(fragmentSrc, precision || settings.PRECISION_FRAGMENT),\n      undefined,\n      attributeLocations\n    );\n  }\n}\n"],"file":"Shader.js"}